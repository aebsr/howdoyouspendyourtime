<html>

<head>
  <title>How I Spend My Day</title>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <meta
    name="viewport"
    content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"
  />
  <style>
    :root {
      --hours: 1
    }

    [chart] ol li {
      width: calc(var(--hours) / 24 * 100%);
    }

    [labels]:after {
      content: '12';
      position: absolute;
      right: 0;
      top: 0;
      bottom: 0;
      transform: translateX(50%);
    }

    [labels]:before {
      content: '';
      width: 100%;
      height: 0;
      border-bottom: 1px solid;
      position: absolute;
      bottom: 0.5rem;
    }

    script {
      display: none
    }
  </style>
</head>

<body x-init="
        colors = {
            sleep: 'bg-indigo-200',
            creative: 'bg-rose-500',
            admin: 'bg-sky-400',
            leisure: 'bg-violet-400',
            wellness: 'bg-orange-300',
            other: 'bg-cyan-700'
        }

        blockLabels = {
            sleep: 'Sleep / Rest',
            creative: 'Creative Work',
            admin: 'Job / Admin',
            leisure: 'Food / Leisure',
            wellness: 'Wellness / Exercise',
            other: 'Other / Misc'
        }

        url = new URLSearchParams(window.location.search);
        name = url.get('name');
        hours = url.get('hours');
        blocks = hours.split(',').map((hour) => {
            key = hour.slice(0, 1);
            switch (key) {
                case 's':
                    key = 'sleep';
                    break;
                case 'c':
                    key = 'creative';
                    break;
                case 'a':
                    key = 'admin';
                    break;
                case 'l':
                    key = 'leisure';
                    break;
                case 'w':
                    key = 'wellness';
                    break;
                case 'o':
                    key = 'other';
                    break;
            }
            return {
                key,
                hours: hour.slice(1)
            }
        });

        total = blocks.reduce((acc, block) => acc + parseFloat(block.hours), 0);
        over = total > 24;
        under = total < 24;
        error = over || under;

        if (error) {
            errorMessage = over ? 'You have more than 24 hours in your day. Please check your input.' : 'You have less than 24 hours in your day. Please check your input.';
        }

        total = {
            sleep: blocks.reduce((acc, block) => block.key === 'sleep' ? acc + parseFloat(block.hours) : acc, 0),
            creative: blocks.reduce((acc, block) => block.key === 'creative' ? acc + parseFloat(block.hours) : acc, 0),
            admin: blocks.reduce((acc, block) => block.key === 'admin' ? acc + parseFloat(block.hours) : acc, 0),
            leisure: blocks.reduce((acc, block) => block.key === 'leisure' ? acc + parseFloat(block.hours) : acc, 0),
            wellness: blocks.reduce((acc, block) => block.key === 'wellness' ? acc + parseFloat(block.hours) : acc, 0),
            other: blocks.reduce((acc, block) => block.key === 'other' ? acc + parseFloat(block.hours) : acc, 0)
        }
    " class="p-4 grid content-center bg-stone-100">
  <ul legend class="inline-flex justify-center flex-wrap mx-auto my-4 w-auto gap-2 sm:gap-8 whitespace-nowrap">
    <template x-for="(color, key) in colors">
      <li class="inline-flex gap-2 items-center">
        <span x-bind:class="color" class="w-4 h-4 inline-block"></span>
        <span x-text="blockLabels[key]"></span>
      </li>
    </template>
  </ul>

  <div chart class="bg-orange-100 p-8">
    <ol labels class="text-sm sm:text-base text-center inline-flex w-full relative mb-4">
      <li class="-translate-x-1/2">12<div class="bg-orange-100">AM</div>
      </li>
      <li class="-translate-x-1/2 even:opacity-0 sm:even:opacity-100">1</li>
      <li class="-translate-x-1/2 even:opacity-0 sm:even:opacity-100">2</li>
      <li class="-translate-x-1/2 even:opacity-0 sm:even:opacity-100">3</li>
      <li class="-translate-x-1/2 even:opacity-0 sm:even:opacity-100">4</li>
      <li class="-translate-x-1/2 even:opacity-0 sm:even:opacity-100">5</li>
      <li class="-translate-x-1/2 even:opacity-0 sm:even:opacity-100">6</li>
      <li class="-translate-x-1/2 even:opacity-0 sm:even:opacity-100">7</li>
      <li class="-translate-x-1/2 even:opacity-0 sm:even:opacity-100">8</li>
      <li class="-translate-x-1/2 even:opacity-0 sm:even:opacity-100">9</li>
      <li class="-translate-x-1/2 even:opacity-0 sm:even:opacity-100">10</li>
      <li class="-translate-x-1/2 even:opacity-0 sm:even:opacity-100">11</li>
      <li class="-translate-x-1/2 even:opacity-0 sm:even:opacity-100">12<div class="bg-orange-100 text-sha">PM</div>
      </li>
      <li class="-translate-x-1/2 even:opacity-0 sm:even:opacity-100">1</li>
      <li class="-translate-x-1/2 even:opacity-0 sm:even:opacity-100">2</li>
      <li class="-translate-x-1/2 even:opacity-0 sm:even:opacity-100">3</li>
      <li class="-translate-x-1/2 even:opacity-0 sm:even:opacity-100">4</li>
      <li class="-translate-x-1/2 even:opacity-0 sm:even:opacity-100">5</li>
      <li class="-translate-x-1/2 even:opacity-0 sm:even:opacity-100">6</li>
      <li class="-translate-x-1/2 even:opacity-0 sm:even:opacity-100">7</li>
      <li class="-translate-x-1/2 even:opacity-0 sm:even:opacity-100">8</li>
      <li class="-translate-x-1/2 even:opacity-0 sm:even:opacity-100">9</li>
      <li class="-translate-x-1/2 even:opacity-0 sm:even:opacity-100">10</li>
      <li class="-translate-x-1/2 even:opacity-0 sm:even:opacity-100">11</li>
    </ol>

    <ul data class="inline-flex w-full min-h-8 relative">
      <li x-text="name" class="absolute z-20 inset-y-0 content-center p-2"></li>
      <ol data class="inline-flex w-full min-h-8 relative relative z-10">
        <template x-for="block in blocks">
          <li x-bind:class="colors[block.key]" :style="'--hours:' + block.hours"
            class="group cursor-help relative hover:scale-110 transform transition-all duration-500 hover:shadow-md hover:z-20">
            <div
              class="text-sm transition-all opacity-0 whitespace-nowrap duration-300 delay-300 absolute top-full left-1/2 -translate-x-1/2 p-1 group-hover:opacity-100">
              <span x-text="block.hours"></span>h of <span x-text="block.key"></span></div>
          </li>
        </template>
      </ol>
      <template x-if="over">
        <li
          class="bg-red-600 text-white font-bold absolute top-0 right-0 rounded-full w-8 h-8 grid place-content-center translate-x-1/2 -translate-y-1/2 z-20">
          !</li>
      </template>
    </ul>
  </div>

  <section class="w-11/12 p-6 rounded-b-lg max-w-2xl shadow-lg shadow-gray-300 bg-white mx-auto">
    <template x-if="!error">
      <div class="border-b border-gray-100">
        <header class="flex justify-center items-center border-b border-gray-100 pb-4">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth="1.5"
            stroke="currentColor" class="w-6 h-6 mr-4">
            <path strokeLinecap="round" strokeLinejoin="round"
              d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z" />
          </svg>
          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
          <path d="M4 19l16 0"></path>
          <path d="M4 15l4 -6l4 2l4 -5l4 4"></path>
          </svg>
          <h3 class="font-medium text-lg">How I Spend My Day</h3>
        </header>
        <section class="py-4 grid sm:grid-cols-2 gap-x-6">
          <template x-for="(color, key) in colors">
            <div class="flex items-center py-3">
              <span class="w-8 h-8 shrink-0 mr-4 rounded-full bg-blue-50 flex items-center justify-center">
                <template x-if="key === 'sleep'">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"
                    class="text-blue-500" fill="none">
                    <path
                      d="M13 2.04938C12.6711 2.01672 12.3375 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 11.3151 21.9311 10.6462 21.8 10"
                      stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                    <path
                      d="M10 11H8.70711C8.25435 11 7.82014 10.8201 7.5 10.5M14 11H15.2929C15.7456 11 16.1799 10.8201 16.5 10.5"
                      stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                    <circle cx="12" cy="16" r="2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                      stroke-linejoin="round" />
                    <path
                      d="M17 2H19.9474C20.5675 2 20.8775 2 20.9601 2.20009C21.0427 2.40019 20.8317 2.64023 20.4098 3.1203L17.9846 5.8797C17.5627 6.35977 17.3517 6.59981 17.4343 6.79991C17.5169 7 17.8269 7 18.447 7H21"
                      stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                  </svg>
                </template>
                <template x-if="key === 'wellness'">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"
                    class="text-blue-500" fill="none">
                    <path
                      d="M7.88598 10C8.57173 11.3968 9.30442 12.7049 9.1352 14.3142C8.86468 16.8869 5.74512 17.8552 3.75022 19.0404C2.44325 19.8169 2.9319 22 4.53582 22C6.48047 22 8.21607 21.8448 9.9706 21.0201L13.4111 18.9028C13.8887 18.6783 14.4913 18.774 15 19"
                      stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                    <path
                      d="M16.0105 10C15.3102 11.3968 14.562 12.7049 14.7348 14.3142C15.0111 16.8869 18.1967 17.8552 20.2339 19.0404C21.5685 19.8169 21.0695 22 19.4316 22C17.4458 22 15.6734 21.8448 13.8817 21.0201L10.3683 18.9028C9.95819 18.714 9.45777 18.7517 9 18.9028"
                      stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                    <path
                      d="M10 4C10 5.10457 10.8954 6 12 6C13.1046 6 14 5.10457 14 4C14 2.89543 13.1046 2 12 2C10.8954 2 10 2.89543 10 4Z"
                      stroke="currentColor" stroke-width="1.5" />
                    <path
                      d="M3 16C5.44586 16 6.54368 13.2949 6.89335 11.4291C6.98463 10.9421 7.13246 10.4565 7.45625 10.0814C8.55651 8.80674 10.184 8 12 8C13.816 8 15.4435 8.80674 16.5437 10.0814C16.8675 10.4565 17.0154 10.9421 17.1067 11.4291C17.4563 13.2949 18.5541 16 21 16"
                      stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                  </svg>
                </template>
                <template x-if="key === 'admin'">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"
                    class="text-blue-500" fill="none">
                    <path
                      d="M2.57956 8.62505C2.50886 8.03528 2.47351 7.74039 2.52323 7.499C2.6651 6.81015 3.27111 6.25159 4.07871 6.06529C4.36172 6 4.717 6 5.42757 6H18.5724C19.283 6 19.6383 6 19.9213 6.06529C20.7289 6.25159 21.3349 6.81015 21.4768 7.499C21.5265 7.74039 21.4911 8.03528 21.4204 8.62505C21.2584 9.97669 20.4991 10.716 19.0512 11.1423L14.88 12.3703C13.4541 12.7901 12.7411 13 12 13C11.2589 13 10.5459 12.7901 9.11996 12.3703L4.94882 11.1423C3.50094 10.7161 2.7416 9.97669 2.57956 8.62505Z"
                      stroke="currentColor" stroke-width="1.5" />
                    <path
                      d="M3.46283 10.5L3.26658 12.7757C2.91481 16.855 2.73892 18.8947 3.86734 20.1974C4.99576 21.5 6.93851 21.5 10.824 21.5H13.176C17.0615 21.5 19.0042 21.5 20.1327 20.1974C21.2611 18.8947 21.0852 16.855 20.7334 12.7757L20.5372 10.5"
                      stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                    <path
                      d="M15.5 5.5L15.4227 5.23509C15.0377 3.91505 14.8452 3.25503 14.3869 2.87752C13.9286 2.5 13.3199 2.5 12.1023 2.5H11.8977C10.6801 2.5 10.0714 2.5 9.61309 2.87752C9.15478 3.25503 8.96228 3.91505 8.57727 5.23509L8.5 5.5"
                      stroke="currentColor" stroke-width="1.5" />
                  </svg>
                </template>
                <template x-if="key === 'creative'">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"
                    class="text-blue-500" fill="none">
                    <path
                      d="M22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C12.8417 22 14 22.1163 14 21C14 20.391 13.6832 19.9212 13.3686 19.4544C12.9082 18.7715 12.4523 18.0953 13 17C13.6667 15.6667 14.7778 15.6667 16.4815 15.6667C17.3334 15.6667 18.3334 15.6667 19.5 15.5C21.601 15.1999 22 13.9084 22 12Z"
                      stroke="currentColor" stroke-width="1.5" />
                    <path d="M7 15.0024L7.00868 15.0001" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                      stroke-linejoin="round" />
                    <circle cx="9.5" cy="8.5" r="1.5" stroke="currentColor" stroke-width="1.5" />
                    <circle cx="16.5" cy="9.5" r="1.5" stroke="currentColor" stroke-width="1.5" />
                  </svg>
                </template>
                <template x-if="key === 'leisure'">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"
                    class="text-blue-500" fill="none">
                    <path
                      d="M18.4998 3.00195L15.0604 6.44129C14.4746 7.02708 14.4746 7.97683 15.0604 8.56261L15.7498 9.25195M21.9998 6.50195L18.5604 9.94129C17.9746 10.5271 17.0249 10.5271 16.4391 9.94129L15.7498 9.25195M15.7498 9.25195L3.99976 21.002"
                      stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                    <path d="M20 4.99902L17.5 7.49902" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                      stroke-linejoin="round" />
                    <path
                      d="M7.98914 8.99011C6.79472 10.1845 5.15674 10.4831 3.66377 8.99011C2.17075 7.49709 1.38801 4.77783 2.58243 3.58341C3.77685 2.38899 6.49611 3.17172 7.98914 4.66475C9.48211 6.15772 9.18356 7.79569 7.98914 8.99011ZM7.98914 8.99011L20 21.001"
                      stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                    <path
                      d="M9.20542 2.39669C10.0923 2.13908 11.03 2.00098 12 2.00098C13.1517 2.00098 14.2579 2.19567 15.2876 2.55394M2.04937 11.001C2.01672 11.3299 2 11.6635 2 12.001C2 14.0328 2.60598 15.9231 3.64707 17.501M7.77267 21.0661C9.05671 21.6659 10.4892 22.001 12 22.001C13.5244 22.001 14.9691 21.6599 16.262 21.0499M20.3529 17.501C21.394 15.9231 22 14.0328 22 12.001C22 11.4228 21.9509 10.8561 21.8567 10.3048"
                      stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                  </svg>
                </template>
                <template x-if="key === 'other'">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"
                    class="text-blue-500" fill="none">
                    <path
                      d="M7 15C5.34315 15 4 16.3431 4 18C4 19.6569 5.34315 21 7 21C8.65685 21 10 19.6569 10 18C10 16.3431 8.65685 15 7 15Z"
                      stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                    <path
                      d="M17 15C15.3431 15 14 16.3431 14 18C14 19.6569 15.3431 21 17 21C18.6569 21 20 19.6569 20 18C20 16.3431 18.6569 15 17 15Z"
                      stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                    <path d="M14 17H10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                      stroke-linejoin="round" />
                    <path d="M22 13C19.5434 11.7725 15.9734 11 12 11C8.02658 11 4.45659 11.7725 2 13"
                      stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                    <path
                      d="M19 11.5L17.9425 4.71245C17.7268 3.3282 16.2232 2.57812 15.0093 3.24919L14.3943 3.58915C12.9019 4.41412 11.0981 4.41412 9.60574 3.58915L8.99074 3.24919C7.77676 2.57812 6.27318 3.3282 6.05751 4.71246L5 11.5"
                      stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                  </svg>
                </template>
              </span>
              <div class="space-y-3 flex-1">
                <div class="flex items-center">
                  <h4 class="font-medium text-sm mr-auto text-gray-700 flex items-center" x-text="blockLabels[key]">
                  </h4>
                  <span class="px-2 py-1 rounded-lg bg-sky-50 text-sky-700 text-xs" x-text="total[key]"></span>
                </div>
                <div class="overflow-hidden bg-blue-50 h-1.5 rounded-full w-full">
                  <span class="h-full bg-blue-500 w-full block rounded-full" x-bind:class="color"
                    x-bind:style="'width:' + (total[key] / 24) * 100 + '%'"></span>
                </div>
              </div>
            </div>
          </template>
      </div>
  </section>
  </template>
  </div>
  <footer class="pt-4">
    <p class="text-sm text-gray-500 text-center">Reluctantly made by <a class="font-bold"
        href="https://antoinebutler.com/">Antoine</a></p>
  </footer>
  </section>

  <template x-if="error">
    <div error="over" x-text="errorMessage" class="fixed bg-red-700 p-4 bottom-4 left-4 rounded-lg block text-white">
    </div>
  </template>

  <script src="https://cdn.tailwindcss.com"></script>
</body>

</html>